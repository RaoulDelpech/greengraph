@import "tailwindcss";

:root {
  /* ========================================
     PALETTE INSTITUTIONNELLE GREENGRAPH
     ======================================== */

  /* Primaire - Vert Forêt (autorité, nature) */
  --color-forest-900: #1B4332;
  --color-forest-800: #2D6A4F;
  --color-forest-700: #40916C;
  --color-forest-600: #52B788;
  --color-forest-500: #74C69D;
  --color-forest-400: #95D5B2;
  --color-forest-300: #B7E4C7;
  --color-forest-200: #D8F3DC;
  --color-forest-100: #E9F5EC;
  --color-forest-50: #F4FAF6;

  /* Secondaire - Bleu Océan (profondeur, sérieux) */
  --color-ocean-900: #1E3A5F;
  --color-ocean-800: #2C5282;
  --color-ocean-700: #3B6B9A;
  --color-ocean-600: #4A7FB2;
  --color-ocean-500: #5A94CA;
  --color-ocean-400: #7AAED8;
  --color-ocean-300: #A3C9E8;
  --color-ocean-200: #C5DDF2;
  --color-ocean-100: #E1EEF8;

  /* Neutres chauds (lisibilité, confort) */
  --color-neutral-900: #1A202C;
  --color-neutral-800: #2D3748;
  --color-neutral-700: #4A5568;
  --color-neutral-600: #718096;
  --color-neutral-500: #A0AEC0;
  --color-neutral-400: #CBD5E0;
  --color-neutral-300: #E2E8F0;
  --color-neutral-200: #EDF2F7;
  --color-neutral-100: #F7FAFC;
  --color-neutral-50: #FAFBFC;

  /* Accent - Ocre (alertes, importance) */
  --color-accent-warm: #C77B30;
  --color-accent-warm-light: #E8A65C;

  /* Accent - Rouge (oppositions, urgence) */
  --color-accent-red: #C53030;
  --color-accent-red-light: #FC8181;

  /* ========================================
     SEMANTIC COLORS
     ======================================== */
  --color-primary: var(--color-forest-800);
  --color-primary-light: var(--color-forest-600);
  --color-primary-dark: var(--color-forest-900);

  --color-secondary: var(--color-ocean-800);
  --color-secondary-light: var(--color-ocean-600);

  --color-bg: var(--color-neutral-50);
  --color-surface: #ffffff;
  --color-text: var(--color-neutral-800);
  --color-text-muted: var(--color-neutral-600);
  --color-text-light: var(--color-neutral-500);

  /* Relations (pour le graphe) */
  --color-rel-renvoie: var(--color-ocean-600);
  --color-rel-type: var(--color-neutral-600);
  --color-rel-contribue-pos: var(--color-forest-600);
  --color-rel-contribue-neg: var(--color-accent-warm);
  --color-rel-proche: var(--color-neutral-400);
  --color-rel-oppose: var(--color-accent-red);

  /* ========================================
     TYPOGRAPHY
     ======================================== */
  --font-serif: 'Source Serif 4', Georgia, 'Times New Roman', serif;
  --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
}

/* ========================================
   BASE STYLES
   ======================================== */
body {
  margin: 0;
  font-family: var(--font-sans);
  background-color: var(--color-bg);
  color: var(--color-text);
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#root {
  min-height: 100vh;
}

/* Titres en serif pour l'autorité scientifique */
h1, h2, h3, .font-serif {
  font-family: var(--font-serif);
}

/* ========================================
   INSTITUTIONAL HEADER BAND
   ======================================== */
.institutional-header {
  background: linear-gradient(135deg, var(--color-forest-900) 0%, var(--color-forest-800) 100%);
  color: white;
  font-size: 0.75rem;
  padding: 0.25rem 1rem;
  text-align: center;
  letter-spacing: 0.05em;
}

/* ========================================
   REACT FLOW OVERRIDES
   ======================================== */
.react-flow__node {
  border-radius: 8px;
  font-size: 14px;
}

.react-flow__edge-path {
  stroke-width: 2;
}

.react-flow__attribution {
  opacity: 0.5;
}

/* ========================================
   SCROLLBAR
   ======================================== */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-neutral-200);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: var(--color-neutral-400);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-neutral-500);
}

/* ========================================
   ACCESSIBILITY
   ======================================== */
:focus-visible {
  outline: 3px solid var(--color-ocean-600);
  outline-offset: 2px;
}

button:focus-visible,
a:focus-visible,
input:focus-visible,
[tabindex]:focus-visible {
  outline: 3px solid var(--color-ocean-600);
  outline-offset: 2px;
  border-radius: 4px;
}

.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--color-forest-800);
  color: white;
  padding: 8px 16px;
  z-index: 100;
  transition: top 0.2s;
}

.skip-link:focus {
  top: 0;
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* ========================================
   HIGH CONTRAST MODE
   ======================================== */
@media (prefers-contrast: high) {
  :root {
    --color-text: #000000;
    --color-bg: #ffffff;
  }

  button, a {
    border: 2px solid currentColor;
  }
}

/* ========================================
   REDUCED MOTION
   ======================================== */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ========================================
   CUSTOM UTILITY CLASSES
   ======================================== */
.text-forest-900 { color: var(--color-forest-900); }
.text-forest-800 { color: var(--color-forest-800); }
.text-forest-700 { color: var(--color-forest-700); }
.text-forest-600 { color: var(--color-forest-600); }
.text-ocean-800 { color: var(--color-ocean-800); }
.text-ocean-600 { color: var(--color-ocean-600); }

.bg-forest-900 { background-color: var(--color-forest-900); }
.bg-forest-800 { background-color: var(--color-forest-800); }
.bg-forest-700 { background-color: var(--color-forest-700); }
.bg-forest-100 { background-color: var(--color-forest-100); }
.bg-forest-50 { background-color: var(--color-forest-50); }
.bg-ocean-100 { background-color: var(--color-ocean-100); }

.border-forest-800 { border-color: var(--color-forest-800); }
.border-forest-300 { border-color: var(--color-forest-300); }

/* Gradient institutionnel */
.bg-gradient-institutional {
  background: linear-gradient(135deg, var(--color-forest-900) 0%, var(--color-forest-800) 50%, var(--color-ocean-900) 100%);
}
